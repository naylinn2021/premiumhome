<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  


<title>JOIN TV4WAP LIVE4WAP </title>
    <script src="https://cdn.tailwindcss.com"></script>
  <style>
        :root {
            --primary-bg: #141414;
            --secondary-bg:#1F1F1F;
            --text-primary: #FFFFFF;
            --text-secondary: #AAAAAA;
            --accent-color: #E50914;
        }
        body {
            background-color: var(--primary-bg);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 60px 0 60px 0; /* Header height increased */
        }


     a:link { 
  text-decoration: none; 
} 
a:visited { 
  text-decoration: none; 
} 
a:hover { 
  text-decoration: none; 
} 
a:active { 
  text-decoration: none;} 

     .content { padding: 8px; }
        .loading-placeholder { color: var(--text-secondary); text-align: center; padding: 9px; }

        .category-section { margin-bottom: 12px; }
        .category-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 9px; }
        .category-header h2 { font-size: 1.2rem; margin: 0; background:#000}
        .card-carousel { display: flex; gap: 3px; overflow-x: auto; padding-bottom: 12px; scrollbar-width: none; }
        .card-carousel::-webkit-scrollbar { display: none; }
        .full-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 3px; }
        .channel-card { width: 100%; cursor: pointer; text-decoration: none; color: var(--text-primary); display: block; }
        .channel-card img { width: 95%; aspect-ratio: 16 / 9; object-fit: cover; border-radius: 2px;border :1px solid#ccc; background-color: var(--secondary-bg); pointer-events: none; }
        .card-title { font-size: 0.7rem; margin-top: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; pointer-events: none; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; display: flex; justify-content: space-around; align-items: center; background-color: var(--secondary-bg); padding: 10px 0; z-index: 100; box-shadow: 0 -2px 5px rgba(0,0,0,0.3); }
        .nav-item{display: flex; flex-direction: column; align-items: center; color: var(--text-secondary); text-decoration: none; font-size: 0.7rem; background: none; border: none; cursor: pointer; }

        .nav-item.active { color: var(--text-primary); }
        .nav-item svg { width: 24px; height: 24px; margin-bottom: 4px; stroke-width: 2; fill: none; stroke: currentColor; }
        .nav-item.active svg { stroke: var(--accent-color); }
        .page { display: none; }
        .page.active { display: block; }



        .telegram-btn {position: fixed;
            background-color: gold;
            border:3px solid gold; 
            padding: 2px 2px;

            text-decoration: none;

            transition: all 0.2s ease;

            align-items: center;
            justify-content: center;
            gap: 15px;
            white-space: nowrap;
            width: 100%;
            flex-shrink: 0;top:0px
        }
.telegram-btn1 {
            background-color:red;
            color: white;
            padding: 2px 2px;
            border-radius: 0px;
            text-decoration: none;
            font-weight: 900;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;

            flex-shrink: 0;
        }
.telegram-btn2 {
            background-color: green;
            color:white;
            padding: 2px 2px;
            border-radius: 0px;
            text-decoration: none;
            font-weight: 900;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;

            flex-shrink: 0;
        }
.search-bar{top:34px;position:fixed;color:#000;padding:1px} 
     </style>  


</head>
  <table class="telegram-btn"><tr><td class="telegram-btn1" width="50%"><a href="https://t.me/tvgotk">LIVE4WAP </a></td><td class="telegram-btn2" width="50%"><a href="https://t.me/tv4wap">TV4WAP </a></td></tr></table>




<main class="content">
   <!-- Home Page -->


    <div id="home-page" class="page active">

 <div class="search-bar"> <input type="text" id="search-input" placeholder="Search Channels" onkeyup="filterChannels()"></div>
    <div id="home-categories-container">
     <div id="all-channels-container"></div>


    </div>
   </div>
   <!-- Live TV Page -->
   <div id="live-page" class="page">
    <div class="subscription-container">



<style>

.file-container{
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            width: 100%;align-items: center;}

.file-container {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                gap: 10px;align-items: center;
            } 
.directory-item{ background-color:#1F1F1F;
            border-radius: 5px;
            overflow: hidden;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            display: inline-block;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            text-align: center;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }


.directory-item a {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.6rem;
            font-weight: 500;  /* Changed from 500 to 400 for lighter font weight */
            width: 100%;
        }
. directory-item a {
                font-size: 0.6rem;
            }

        .directory-item img {
            width: 100px;
            height: 60px;
            margin-bottom: 3px;margin-left:6px;object-fit: contain;align-items: center;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle
        }
        .directory-item img {
                width: 80px;
                height: 60px;align-items: center;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle
            }
        .directory-item {
                padding: 6px;
            }

            }
directory-item b {
            font-weight: 500;  /* Changed from default bold to 400 for lighter font weight */
        }







.rwd-media {background:#000000; position:fixed ; width: 100%; height: 0px; }.rwd-media iframe,.rwd-media video {background:#000; position: fixed; width: 100%; height:210px ; left:0px;top:35px;border:1px solid#1F1F1F}



.tab-content{display:inline-block;float: left; border: none; outline: none; cursor: pointer; padding-top: 180px; padding-left: 8px; padding-right: 0px; padding-bottom: 24px; transition: 0.3s; font-size: 10px;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle;width:100% !important}


</style>


          <div class="content"> <div class="rwd-media"> <iframe name="frame" frameborder="0" src="https://tv4wap.neocities.org/Live4wap" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" loading="lazy" allowfullscreen encrypted-media /> </iframe>  </div> </div>



<div class="tab-content">
    <div id="app" class="file-container"></div></div>

 <script>function getData() {fetch("https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvid") .then(res => {return res.json(); })  .then(json => {console.log(json.data);const html  = json  .map(function(item) { return  "<div class='directory-item'><a target='frame' href='https://tv4wap.github.io/"+item.url+"?id="+item.id+"'><img src='"+item.logo+"'></a><a target='frame' href='https://tv4wap.github.io/"+item.url+"?id="+item.id+"'><b>"+item.name+"</b></a></div>"; }) .join(""); console.log(html);document.querySelector("#app" ).insertAdjacentHTML("afterbegin", html); }) .catch(error => { console.log(error); });}getData();</script>

<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>
</div>
   </div>
<div id="match-page" class="page">
    <div class="subscription-container">
















     <meta name="viewport" content="width=device-width, initial-scale=1"> 


          <script src="https://cdn.tailwindcss.com"></script>







    <style>
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        .live-indicator {
            animation: blink 1.2s infinite;
        }

        .match-name {color:white;
            white-space: normal;
            overflow: visible;
            text-overflow: clip;
            max-width: 100%;
            text-align: center;
            display: block;
            font-size: 12px;
            font-weight: bold;
            line-height: 1.0;
            word-break: break-word;
        }

        .match-card {
            background: #1e293b;
            padding: 3px;
            border-radius: 5px;
            text-align: center;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
            transition: transform 0.4s ease-in-out;
        }

        .match-card:hover {
            transform: scale(1.04);
        }

        .team-logo {
            width: 100px;
            height:110px;
            border-radius:5%;
            background-color: white;
            padding: 0px;border:1px solid#ccc
        }




</style>











<div class="container mx-auto p-4"> 

        <h2 class="text-3xl font-bold text-red-500 mb-4"></h2> 
        <div id="liveContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div> 
        <h2 class="text-3xl font-bold text-yellow-400 mt-6 mb-4"></h2> 
        <div id="upcomingContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">

          </div> 
         </div>




       <script>
    fetch('https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvmatch')
    .then(response => response.json())
    .then(data => {
        const liveContainer = document.getElementById("liveContainer");
        const upcomingContainer = document.getElementById("upcomingContainer");
        liveContainer.innerHTML = "";
        upcomingContainer.innerHTML = "";

        const currentTime = new Date();

        // Filtering live and upcoming matches
        const liveMatches = [];
        const upcomingMatches = [];

        data.forEach(match => {
            const matchDate = new Date(match.matchTime);
            const matchEndTime = new Date(matchDate.getTime() + 10 * 60 * 60 * 1000);

            let matchStatus, statusBadge, isLive = false;

            if (currentTime < matchDate) {
                matchStatus = `<span class="text-yellow-400 font-semibold text-lg"><span id="timer-${match.id}"></span></span>`;
                statusBadge = `<span class="bg-yellow-400 text-black px-3 py-1 rounded-md text-sm font-semibold">Upcoming  </span>`;
                upcomingMatches.push({ match, matchStatus, statusBadge });
            } else if (currentTime >= matchDate) {
                isLive = true;
                matchStatus = `<span class="text-red-500 font-bold text-lg">LIVE NOW</span>`;
                liveMatches.push({ match, matchStatus });
            }
        });

        // Render live matches
        liveMatches.forEach(({ match, matchStatus }) => {
            const matchElement = createMatchElement(match, matchStatus);
            liveContainer.appendChild(matchElement);
        });

        // Render upcoming matches and countdown
        upcomingMatches.forEach(({ match, matchStatus, statusBadge }) => {
            const matchElement = createMatchElement(match, matchStatus, statusBadge);
            upcomingContainer.appendChild(matchElement);
            startCountdown(new Date(match.matchTime), match.id);
        });
    })
    .catch(error => console.error('Error fetching match data:', error));

    function createMatchElement(match, matchStatus, statusBadge = "") {
        const matchElement = document.createElement("div");
                  matchElement.onclick = () => window.location.href = `${match.url}`;




        matchElement.innerHTML = `


 <table width="100%" class="match-card">
 <tr><td width="30%" class="text">
 <img src="${match.logo}" class="team-logo">
<p class="text1">${match.type}<p>
<td></div>
<td width="70%">
<p class="text">${match.id}<p>
<p class="text2">TIME : ${match.today}<p>
<p class="text2">LIVE TELECAST : ${match.tv}<p>

<p class="text2">${match.total}<p>
<p class="text">${match.date}<p>

<div class="text-center mb-1">${statusBadge || ''}                                                             ${matchStatus || ''}
</div>
</tr></table>



        `;
        return matchElement;
    }

    function startCountdown(matchTime, matchId) {
        function updateCountdown() {
            const now = new Date();
            const timeDiff = matchTime - now;

            if (timeDiff <= 0) {
                document.getElementById(`timer-${matchId}`).innerText = "Starting soon!";
                return;
            }

            const hours = Math.floor(timeDiff / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            if (hours === 0 && minutes === 0 && seconds === 0) {
                document.getElementById(`timer-${matchId}`).innerText = "Starting soon!";
            } else {
                document.getElementById(`timer-${matchId}`).innerText = `${hours}h ${minutes}m ${seconds}s`;
            }

            setTimeout(updateCountdown, 1000);
        }

        // Only update countdown if match is upcoming
        if (matchTime > new Date()) {
            updateCountdown();
        } else {
            document.getElementById(`timer-${matchId}`).innerText = "Match has started!";
        }
    }
</script>









<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>


    </div>
   </div>

   <!-- Subscription Page -->
   <div id="subscription-page" class="page">
    <div class="subscription-container">










<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  


<title>JOIN TV4WAP LIVE4WAP </title>
    <script src="https://cdn.tailwindcss.com"></script>
  <style>
        :root {
            --primary-bg: #141414;
            --secondary-bg:#1F1F1F;
            --text-primary: #FFFFFF;
            --text-secondary: #AAAAAA;
            --accent-color: #E50914;
        }
        body {
            background-color: var(--primary-bg);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 60px 0 60px 0; /* Header height increased */
        }


     a:link { 
  text-decoration: none; 
} 
a:visited { 
  text-decoration: none; 
} 
a:hover { 
  text-decoration: none; 
} 
a:active { 
  text-decoration: none;} 

     .content { padding: 8px; }
        .loading-placeholder { color: var(--text-secondary); text-align: center; padding: 9px; }

        .category-section { margin-bottom: 12px; }
        .category-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 9px; }
        .category-header h2 { font-size: 1.2rem; margin: 0; background:#000}
        .card-carousel { display: flex; gap: 3px; overflow-x: auto; padding-bottom: 12px; scrollbar-width: none; }
        .card-carousel::-webkit-scrollbar { display: none; }
        .full-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 3px; }
        .channel-card { width: 100%; cursor: pointer; text-decoration: none; color: var(--text-primary); display: block; }
        .channel-card img { width: 95%; aspect-ratio: 16 / 9; object-fit: cover; border-radius: 2px;border :1px solid#ccc; background-color: var(--secondary-bg); pointer-events: none; }
        .card-title { font-size: 0.7rem; margin-top: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; pointer-events: none; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; display: flex; justify-content: space-around; align-items: center; background-color: var(--secondary-bg); padding: 10px 0; z-index: 100; box-shadow: 0 -2px 5px rgba(0,0,0,0.3); }
        .nav-item{display: flex; flex-direction: column; align-items: center; color: var(--text-secondary); text-decoration: none; font-size: 0.7rem; background: none; border: none; cursor: pointer; }

        .nav-item.active { color: var(--text-primary); }
        .nav-item svg { width: 24px; height: 24px; margin-bottom: 4px; stroke-width: 2; fill: none; stroke: currentColor; }
        .nav-item.active svg { stroke: var(--accent-color); }
        .page { display: none; }
        .page.active { display: block; }



        .telegram-btn {position: fixed;
            background-color: gold;
            border:3px solid gold; 
            padding: 2px 2px;

            text-decoration: none;

            transition: all 0.2s ease;

            align-items: center;
            justify-content: center;
            gap: 15px;
            white-space: nowrap;
            width: 100%;
            flex-shrink: 0;top:0px
        }
.telegram-btn1 {
            background-color:red;
            color: white;
            padding: 2px 2px;
            border-radius: 0px;
            text-decoration: none;
            font-weight: 900;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;

            flex-shrink: 0;
        }
.telegram-btn2 {
            background-color: green;
            color:white;
            padding: 2px 2px;
            border-radius: 0px;
            text-decoration: none;
            font-weight: 900;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;

            flex-shrink: 0;
        }
.search-bar{top:34px;position:fixed;color:#000;padding:1px} 
     </style>  


</head>
  <table class="telegram-btn"><tr><td class="telegram-btn1" width="50%"><a href="https://t.me/tvgotk">LIVE4WAP </a></td><td class="telegram-btn2" width="50%"><a href="https://t.me/tv4wap">TV4WAP </a></td></tr></table>




<main class="content">
   <!-- Home Page -->


    <div id="home-page" class="page active">

 <div class="search-bar"> <input type="text" id="search-input" placeholder="Search Channels" onkeyup="filterChannels()"></div>
    <div id="home-categories-container">
     <div id="all-channels-container"></div>


    </div>
   </div>
   <!-- Live TV Page -->
   <div id="live-page" class="page">
    <div class="subscription-container">



<style>

.file-container{
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            width: 100%;align-items: center;}

.file-container {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                gap: 10px;align-items: center;
            } 
.directory-item{ background-color:#1F1F1F;
            border-radius: 5px;
            overflow: hidden;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            display: inline-block;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            text-align: center;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }


.directory-item a {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.6rem;
            font-weight: 500;  /* Changed from 500 to 400 for lighter font weight */
            width: 100%;
        }
. directory-item a {
                font-size: 0.6rem;
            }

        .directory-item img {
            width: 100px;
            height: 60px;
            margin-bottom: 3px;margin-left:6px;object-fit: contain;align-items: center;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle
        }
        .directory-item img {
                width: 80px;
                height: 60px;align-items: center;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle
            }
        .directory-item {
                padding: 6px;
            }

            }
directory-item b {
            font-weight: 500;  /* Changed from default bold to 400 for lighter font weight */
        }







.rwd-media {background:#000000; position:fixed ; width: 100%; height: 0px; }.rwd-media iframe,.rwd-media video {background:#000; position: fixed; width: 100%; height:210px ; left:0px;top:35px;border:1px solid#1F1F1F}



.tab-content{display:inline-block;float: left; border: none; outline: none; cursor: pointer; padding-top: 180px; padding-left: 8px; padding-right: 0px; padding-bottom: 24px; transition: 0.3s; font-size: 10px;align:center;vertical-align:middle;vertical-align:middle;align:center;align-items:center;vertical-align:middle;horizontal-align:middle;width:100% !important}


</style>


          <div class="content"> <div class="rwd-media"> <iframe name="frame" frameborder="0" src="https://tv4wap.neocities.org/Live4wap" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" loading="lazy" allowfullscreen encrypted-media /> </iframe>  </div> </div>



<div class="tab-content">
    <div id="app" class="file-container"></div></div>

 <script>function getData() {fetch("https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvid") .then(res => {return res.json(); })  .then(json => {console.log(json.data);const html  = json  .map(function(item) { return  "<div class='directory-item'><a target='frame' href='https://tv4wap.github.io/"+item.url+"?id="+item.id+"'><img src='"+item.logo+"'></a><a target='frame' href='https://tv4wap.github.io/"+item.url+"?id="+item.id+"'><b>"+item.name+"</b></a></div>"; }) .join(""); console.log(html);document.querySelector("#app" ).insertAdjacentHTML("afterbegin", html); }) .catch(error => { console.log(error); });}getData();</script>

<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>
</div>
   </div>
<div id="match-page" class="page">
    <div class="subscription-container">
















     <meta name="viewport" content="width=device-width, initial-scale=1"> 


          <script src="https://cdn.tailwindcss.com"></script>







    <style>
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        .live-indicator {
            animation: blink 1.2s infinite;
        }

        .match-name {color:white;
            white-space: normal;
            overflow: visible;
            text-overflow: clip;
            max-width: 100%;
            text-align: center;
            display: block;
            font-size: 12px;
            font-weight: bold;
            line-height: 1.0;
            word-break: break-word;
        }

        .match-card {
            background: #1e293b;
            padding: 3px;
            border-radius: 5px;
            text-align: center;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
            transition: transform 0.4s ease-in-out;
        }

        .match-card:hover {
            transform: scale(1.04);
        }

        .team-logo {
            width: 100px;
            height:110px;
            border-radius:5%;
            background-color: white;
            padding: 0px;border:1px solid#ccc
        }




</style>











<div class="container mx-auto p-4"> 

        <h2 class="text-3xl font-bold text-red-500 mb-4"></h2> 
        <div id="liveContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div> 
        <h2 class="text-3xl font-bold text-yellow-400 mt-6 mb-4"></h2> 
        <div id="upcomingContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">

          </div> 
         </div>




       <script>
    fetch('https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvmatch')
    .then(response => response.json())
    .then(data => {
        const liveContainer = document.getElementById("liveContainer");
        const upcomingContainer = document.getElementById("upcomingContainer");
        liveContainer.innerHTML = "";
        upcomingContainer.innerHTML = "";

        const currentTime = new Date();

        // Filtering live and upcoming matches
        const liveMatches = [];
        const upcomingMatches = [];

        data.forEach(match => {
            const matchDate = new Date(match.matchTime);
            const matchEndTime = new Date(matchDate.getTime() + 10 * 60 * 60 * 1000);

            let matchStatus, statusBadge, isLive = false;

            if (currentTime < matchDate) {
                matchStatus = `<span class="text-yellow-400 font-semibold text-lg"><span id="timer-${match.id}"></span></span>`;
                statusBadge = `<span class="bg-yellow-400 text-black px-3 py-1 rounded-md text-sm font-semibold">Upcoming  </span>`;
                upcomingMatches.push({ match, matchStatus, statusBadge });
            } else if (currentTime >= matchDate) {
                isLive = true;
                matchStatus = `<span class="text-red-500 font-bold text-lg">LIVE NOW</span>`;
                liveMatches.push({ match, matchStatus });
            }
        });

        // Render live matches
        liveMatches.forEach(({ match, matchStatus }) => {
            const matchElement = createMatchElement(match, matchStatus);
            liveContainer.appendChild(matchElement);
        });

        // Render upcoming matches and countdown
        upcomingMatches.forEach(({ match, matchStatus, statusBadge }) => {
            const matchElement = createMatchElement(match, matchStatus, statusBadge);
            upcomingContainer.appendChild(matchElement);
            startCountdown(new Date(match.matchTime), match.id);
        });
    })
    .catch(error => console.error('Error fetching match data:', error));

    function createMatchElement(match, matchStatus, statusBadge = "") {
        const matchElement = document.createElement("div");
                  matchElement.onclick = () => window.location.href = `${match.url}`;




        matchElement.innerHTML = `


 <table width="100%" class="match-card">
 <tr><td width="30%" class="text">
 <img src="${match.logo}" class="team-logo">
<p class="text1">${match.type}<p>
<td></div>
<td width="70%">
<p class="text">${match.id}<p>
<p class="text2">TIME : ${match.today}<p>
<p class="text2">LIVE TELECAST : ${match.tv}<p>

<p class="text2">${match.total}<p>
<p class="text">${match.date}<p>

<div class="text-center mb-1">${statusBadge || ''}                                                             ${matchStatus || ''}
</div>
</tr></table>



        `;
        return matchElement;
    }

    function startCountdown(matchTime, matchId) {
        function updateCountdown() {
            const now = new Date();
            const timeDiff = matchTime - now;

            if (timeDiff <= 0) {
                document.getElementById(`timer-${matchId}`).innerText = "Starting soon!";
                return;
            }

            const hours = Math.floor(timeDiff / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            if (hours === 0 && minutes === 0 && seconds === 0) {
                document.getElementById(`timer-${matchId}`).innerText = "Starting soon!";
            } else {
                document.getElementById(`timer-${matchId}`).innerText = `${hours}h ${minutes}m ${seconds}s`;
            }

            setTimeout(updateCountdown, 1000);
        }

        // Only update countdown if match is upcoming
        if (matchTime > new Date()) {
            updateCountdown();
        } else {
            document.getElementById(`timer-${matchId}`).innerText = "Match has started!";
        }
    }
</script>









<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>


    </div>
   </div>

   <!-- Subscription Page -->
   <div id="subscription-page" class="page">
    <div class="subscription-container">









<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FREE LIV TV TPLAY</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: "Segoe UI", sans-serif; background: #121212; color: #fff; margin: 0; }
    header { background: #000; padding: 20px; text-align: center; border-bottom: 2px solid #00ffc8; }
    header h1 { margin: 0; font-size: 32px; color: #00ffc8; animation: glow 2s ease-in-out infinite alternate; }
    @keyframes glow { from { text-shadow: 0 0 5px #00ffc8; } to { text-shadow: 0 0 20px #00ffc8, 0 0 30px #00ffc8; } }
    .topbar { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; background: #1a1a1a; padding: 15px; }
    input, select { padding: 10px; border-radius: 6px; font-size: 16px; border: none; outline: none; }
    #channelList { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px; padding: 20px; }
    .channel { background: #1f1f1f; border-radius: 12px; box-shadow: 0 4px 10px rgba(0, 255, 200, 0.05); overflow: hidden; cursor: pointer; text-align: center; padding: 12px; transition: 0.3s; }
    .channel:hover { background: #292929; transform: translateY(-4px); box-shadow: 0 6px 15px rgba(0, 255, 200, 0.1); }
    .channel img { width: 100%; height: 120px; object-fit: contain; background: #2a2a2a; border-radius: 8px; padding: 6px; }
    .channel h3 { font-size: 14px; margin: 10px 0 4px; color: #00ffc8; word-break: break-word; }
    .channel small { color: #aaa; font-size: 12px; }
    .fa-heart { margin-top: 6px; font-size: 16px; color: #888; transition: color 0.2s ease; }
    .fav { color: red !important; }
    .pagination { text-align: center; margin: 20px; }
    .pagination button { background: #00ffc8; border: none; padding: 10px 20px; margin: 0 5px; cursor: pointer; border-radius: 6px; font-weight: bold; color: #000; }
    footer { text-align: center; padding: 20px; background: #000; font-size: 14px; color: #aaa; }
  </style>
 </head>
 <body>
  <header>
   <h1>üì∫ FREE LIV TV TPLAY</h1>
  </header>
  <div class="topbar">
   <input type="text" id="searchInput" placeholder="Search channel..."> <select id="categoryFilter"> <option value="">All Categories</option> <option value="Action">Action</option><option value="Bengali">Bengali</option><option value="English News">English News</option><option value="Entertainment">Entertainment</option><option value="Gujarati">Gujarati</option><option value="Hindi">Hindi</option><option value="Kannada">Kannada</option><option value="Kids">Kids</option><option value="Knowledge">Knowledge</option><option value="Lifestyle">Lifestyle</option><option value="Malayalam">Malayalam</option><option value="Marathi">Marathi</option><option value="Movies">Movies</option><option value="Music">Music</option><option value="News">News</option><option value="Odia">Odia</option><option value="Others">Others</option><option value="Punjabi">Punjabi</option><option value="Regional">Regional</option><option value="Regional Bengali">Regional Bengali</option><option value="Spiritual">Spiritual</option><option value="Sports">Sports</option><option value="Tamil">Tamil</option><option value="Telugu">Telugu</option><option value="Thriller">Thriller</option><option value="none">none</option> </select>
  </div>
  <div id="channelList"></div>
  <div class="pagination">
   <button onclick="prevPage()">‚¨ÖÔ∏è Prev</button>
   <span id="pageInfo"></span>
   <button onclick="nextPage()">Next ‚û°Ô∏è</button>
  </div>
  <footer>
   üîó <a href="https://t.me/freelivtv" target="_blank" style="color:#00ffc8;">@freelivtv</a> | Credit: <strong>Vishwas</strong>
  </footer>

<script src="https://filmymad.neocities.orgo/other.txt"></script>
  <script>

let currentPage = 2;
const perPage = 2;
let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");

function encodeTimestamp(ts) {
  const map = {'1':'a','2':'v','3':'u','4':'r','5':'h','6':'j','7':'p','8':'o','9':'i','0':'s'};
  return ts.toString().split('').map(d => map[d]).join('');
}

function renderChannels() {
  const search = document.getElementById('searchInput').value.toLowerCase();
  const category = document.getElementById('categoryFilter').value;
  let filtered = allChannels.filter(ch =>
    ch.name.toLowerCase().includes(search) &&
    (category === '' || ch.group === category)
  );

  const totalPages = Math.ceil(filtered.length / perPage);
  if (currentPage > totalPages) currentPage = totalPages;
  if (currentPage < 1) currentPage = 1;

  const start = (currentPage - 1) * perPage;
  const channels = filtered.slice(start, start + perPage);

  document.getElementById('channelList').innerHTML = channels.map(ch => {
    const isFav = favorites.includes(ch.name);
    return `
      <div class="channel" onclick="openPlayer('${ch.url}', '${encodeURIComponent(ch.logo)}', '${encodeURIComponent(ch.name)}')">
        <img src="${ch.logo}" onerror="this.onerror=null;this.src='https://i.ibb.co/DPd27cCK/photo-2024-12-29-23-10-30.jpg';">
        <h3>${ch.name}</h3>
        <small>${ch.group}</small><br>
        <i class="fa fa-heart ${isFav ? 'fav' : ''}" onclick="toggleFav(event, '${ch.name}')"></i>
      </div>
    `;
  }).join("");

  document.getElementById('pageInfo').innerText = `Page ${currentPage} of ${totalPages}`;
}

function openPlayer(url, logo, name) {
  const id = new URL(url).searchParams.get("id");
  if (!id) return alert("Invalid channel ID");

  const expiry = Math.floor(Date.now() / 1000) + 7200; // 2 hrs
  const token = encodeTimestamp(expiry);
  const finalUrl = `?id=${id}&key=${token}&name=DW`;

  const playerUrl = `https://tvgo.neocities.org/APPTV/tata${finalUrl}`;
  window.open(playerUrl, '_blank');
}

function toggleFav(e, name) {
  e.stopPropagation();
  if (favorites.includes(name)) {
    favorites = favorites.filter(f => f !== name);
  } else {
    favorites.push(name);
  }
  localStorage.setItem("favorites", JSON.stringify(favorites));
  renderChannels();
}

function nextPage() { currentPage++; renderChannels(); }
function prevPage() { currentPage--; renderChannels(); }

document.getElementById('searchInput').addEventListener('input', renderChannels);
document.getElementById('categoryFilter').addEventListener('change', renderChannels);

renderChannels();
</script>
 </body>
</html>













<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>

</div>          </div>



  </main>
  <footer class="bottom-nav">
   <button class="nav-item nav-link active" data-page="home-page" data-title="Live TV">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>
    <span>TV</span>
   </button>
   <button class="nav-item nav-link" data-page="live-page" data-title="Live Cricket">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
     <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle>
    </svg>
    <span>LIVE</span>
   </button>
   <button class="nav-item nav-link" data-page="match-page" data-title="Cricket">
    <svg width="24px" height="24px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--emojione-monotone" preserveAspectRatio="xMidYMid meet"><path d="M48.279 42.588l1.252 1.254l-.947.949l-1.548-1.547a8.93 8.93 0 0 0-1.088.811l12.864 12.863c.301-.348.572-.709.811-1.088l-1.549-1.547l.951-.949l1.254 1.254c1.443-3.336.809-7.355-1.918-10.082s-6.746-3.36-10.082-1.918m1.252 3.152l.95-.949l1.897 1.899l-.947.95l-1.9-1.9m2.848 2.848l.951-.947l1.896 1.897l-.947.948l-1.9-1.898m4.748 4.746l-1.9-1.898l.95-.949l1.897 1.898l-.947.949" fill="#000000"></path><path d="M44.188 46.092l1.549 1.549l-.95.947l-1.254-1.254c-1.443 3.337-.81 7.357 1.917 10.083s6.746 3.359 10.083 1.916L54.28 58.08l.947-.95l1.549 1.548c.378-.238.74-.51 1.088-.811L44.998 45.003c-.3.348-.57.71-.81 1.089m10.091 10.09l-.949.948l-1.898-1.897l.947-.949l1.9 1.898m-2.847-2.848l-.95.949l-1.897-1.898l.947-.949l1.9 1.898m-2.848-2.848l-.951.949l-1.896-1.897l.947-.95l1.9 1.898" fill="#000000"></path><path d="M50.42 25.346c0-.506-.201-.992-.561-1.35l-2.066-2.068c-.01-.085-.027-.168-.028-.255a2.62 2.62 0 0 1 .769-1.906L62 6.299l-.109-.401a5.337 5.337 0 0 0-1.381-2.403a5.362 5.362 0 0 0-2.4-1.383L57.707 2l-13.47 13.471c-.572.572-1.394.801-2.188.713l-2.041-2.04a1.907 1.907 0 0 0-2.699 0L2.831 48.622c-.754.754-1.379 2.2-.077 4.808c.71 1.42 1.903 3.004 3.36 4.461c.964.963 4.328 4.109 7.145 4.109c1.07 0 1.745-.45 2.123-.828l34.477-34.477c.36-.358.561-.843.561-1.349m-5.17-8.863L57.008 4.725c.489.218.951.516 1.354.918c.402.402.698.864.916 1.353L47.521 18.754a4.021 4.021 0 0 0-1.049 1.833l-.033-.013l-3.011-3.012l-.013-.03a4.023 4.023 0 0 0 1.835-1.049M4.52 49.633l34.138-34.139l4.566 4.564L13.67 49.613c-.681.681-2.181 1.372-3.144 1.302c-1.395-.104-6.006-1.282-6.006-1.282m9.852 9.851s-1.178-4.61-1.281-6.009c-.071-.96.621-2.462 1.301-3.142c7.387-7.391 29.554-29.555 29.554-29.555l4.563 4.566l-34.137 34.14" fill="#000000"></path></svg>
    <span>CRICKET</span>
   </button>
   <button class="nav-item nav-link" data-page="subscription-page" data-title="fancode">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
    <span>FANCODE </span>
   </button>

  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

        const playlistUrl = 'https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvm3u';


        const pages = document.querySelectorAll('.page');
        const headerTitle = document.getElementById('header-title');
        const bannerCarousel = document.getElementById('banner-carousel');
        const homeCategoriesContainer = document.getElementById('home-categories-container');
        const allChannelsContainer = document.getElementById('all-channels-container');
        const searchInput = document.getElementById('search-input');

        function parseM3U(data) {
            if (!data || !data.trim().startsWith('#EXTM3U')) return [];
            const lines = data.trim().split('\n');
            const channels = [];
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].trim().startsWith('#EXTINF:')) {
                    let streamUrl = lines[i + 1] ? lines[i + 1].trim() : '';
                    if (!streamUrl || streamUrl.startsWith('#')) continue;

                    const info = lines[i].trim();
                    const nameMatch = info.match(/tvg-name="([^"]*)"/) || info.match(/,(.*)$/);
                                    const idMatch = info.match(/tvg-id="([^"]*)"/);

                    const logoMatch = info.match(/tvg-logo="([^"]*)"/);
                    const groupMatch = info.match(/group-title="([^"]*)"/);

                    channels.push({
                        name: nameMatch ? nameMatch[1].trim() : 'Unnamed',
                        logo: logoMatch ? logoMatch[1].trim() : 'https://placehold.co/280x160/1F1F1F/ffffff?text=No+Logo',
                        streamUrl: streamUrl,
                                         id: idMatch ? idMatch[1].trim() : 'no', 

                        group: groupMatch ? groupMatch[1].trim() : 'General'
                    });
                    i++;
                }
            }
            return channels;
        }

        function renderChannels(channels, container, isCarousel) {
            const cardHtml = channels.map(channel => {
                const playerUrl = `https://tv4wap.github.io/p2?url=${encodeURIComponent(channel.streamUrl)}`;

                return `
     <a href="${playerUrl}" class="channel-card" style="${isCarousel ? 'flex: 0 0 140px; width: 140px;' : ''}">
                    <img src="${channel.logo}" alt="${channel.name}" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/280x160/1F1F1F/ffffff?text=No+Logo';">
                    <div class="card-title">${channel.name}</div>
                </a>`;
            }).join('');
            container.innerHTML = cardHtml || '<div class="loading-placeholder">No channels found.</div>';
        }

        function renderBanners(sliders) {
            if (!sliders || sliders.length === 0) return;
            bannerCarousel.innerHTML = sliders.map((slide, index) => `
                <div class="banner-slide ${index === 0 ? 'active' : ''}" style="background-image: url('${slide.imageUrl}');">
                    <div class="banner-title-container"><div class="banner-title">${slide.title}</div></div>
                </div>`).join('');
            let currentSlide = 0;
            const slides = bannerCarousel.querySelectorAll('.banner-slide');
            if (slides.length > 1) {
                setInterval(() => {
                    slides[currentSlide].classList.remove('active');
                    currentSlide = (currentSlide + 1) % slides.length;
                    slides[currentSlide].classList.add('active');
                }, 5000);
            }
        }

        async function loadInitialData() {

            try {
                const response = await fetch(playlistUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const m3uText = await response.text();
                const allChannelsData = parseM3U(m3uText);

                if (allChannelsData.length === 0) throw new Error('No channels found.');

                // Logic to preserve playlist order
                const groupedChannels = {};
                const groupOrder = [];




                allChannelsData.forEach(channel => {
                    const group = channel.group || 'General';


                    if (!groupedChannels[group]) {
                        groupedChannels[group] = [];
                        groupOrder.push(group); // Add group to the order array only when it's first seen
                    }
                    groupedChannels[group].push(channel);
                });

                homeCategoriesContainer.innerHTML = ''; 
                allChannelsContainer.innerHTML = '';

                // Render categories based on the original playlist order
                groupOrder.forEach(groupName => {
                    const channels = groupedChannels[groupName];

                    const homeSection = document.createElement('section');
                    homeSection.className = 'category-section';
                    homeSection.innerHTML = `<div class="category-header"><h2>${groupName}</h2></div><div class="card-carousel"></div>`;
                    homeCategoriesContainer.appendChild(homeSection);
                    renderChannels(channels, homeSection.querySelector('.card-carousel'), true);

                    const liveSection = document.createElement('section');
                    liveSection.className = 'category-section';
                    liveSection.innerHTML = `<div  class="category-header"><h2>${groupName}</h2></div><div class="full-grid"></div>`;
                    allChannelsContainer.appendChild(liveSection);
                    renderChannels(channels, liveSection.querySelector('.full-grid'), false);
                });



            } catch (error) {
                console.error('Failed to load channels:', error);
                const errorMessage = `<p class="loading-placeholder">Could not load channels. <br> ${error.message}</p>`;
                homeCategoriesContainer.innerHTML = errorMessage;
                allChannelsContainer.innerHTML = errorMessage;
            }
        }




        function switchPage(pageId, title) {
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId)?.classList.add('active');

            document.querySelectorAll('.nav-item.nav-link').forEach(link => {
                link.classList.toggle('active', link.dataset.page === pageId);
            });
            headerTitle.textContent = title;
            const isSubPage = pageId === 'subscription-page';
            headerTitle.classList.toggle('active', !isSubPage);
            document.querySelector('.search-container').style.display = isSubPage ? 'none' : 'flex';
            document.querySelector('.time-display').style.display = isSubPage ? 'none' : 'block';
             if (isSubPage) {
                document.querySelector('.header').style.gridTemplateColumns = 'auto 1fr auto';
             }
        }
 function filterChannels() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const activePage = document.querySelector('.page.active');
            if (!activePage) return;

            activePage.querySelectorAll('.category-section').forEach(section => {
                let categoryHasVisibleChannel = false;
                section.querySelectorAll('.channel-card').forEach(card => {
                    const title = card.querySelector('.card-title').textContent.toLowerCase();
                    const isMatch = title.includes(searchTerm);
                    card.style.display = isMatch ? '' : 'none';
                    if (isMatch) categoryHasVisibleChannel = true;
                });
                section.style.display = categoryHasVisibleChannel ? '' : 'none';
            });
        }

        document.querySelectorAll('.nav-link').forEach(link => {
            if (link.dataset.page) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchPage(link.dataset.page, link.dataset.title);
                });
            }
        });

        document.querySelector('main.content').addEventListener('click', (e) => {
            const buyButton = e.target.closest('.buy-btn');
            if(buyButton && buyButton.dataset.link) {
                window.location.href = buyButton.dataset.link;
            }
        });



searchInput.addEventListener('input', filterChannels);

        loadInitialData();
        switchPage('home-page', 'Home');
    });
    </script>








<div class="text2">
This site is not affiliated with any television channel. All content is copyright of their respective owners. We cannot accept any responsibility for the content on this site. We cannot control or influence any audiovisual content on this site. Viewers are expected to be wise in processing the information obtained.All links provided on this site are indexed from third-party websites. We do not host any content
contact:Wapgotube@gmail.com</div>

</div>          </div>



  </main>
  <footer class="bottom-nav">
   <button class="nav-item nav-link active" data-page="home-page" data-title="Live TV">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>
    <span>TV</span>
   </button>
   <button class="nav-item nav-link" data-page="live-page" data-title="Live Cricket">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
     <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle>
    </svg>
    <span>LIVE</span>
   </button>
   <button class="nav-item nav-link" data-page="match-page" data-title="Cricket">
    <svg width="24px" height="24px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--emojione-monotone" preserveAspectRatio="xMidYMid meet"><path d="M48.279 42.588l1.252 1.254l-.947.949l-1.548-1.547a8.93 8.93 0 0 0-1.088.811l12.864 12.863c.301-.348.572-.709.811-1.088l-1.549-1.547l.951-.949l1.254 1.254c1.443-3.336.809-7.355-1.918-10.082s-6.746-3.36-10.082-1.918m1.252 3.152l.95-.949l1.897 1.899l-.947.95l-1.9-1.9m2.848 2.848l.951-.947l1.896 1.897l-.947.948l-1.9-1.898m4.748 4.746l-1.9-1.898l.95-.949l1.897 1.898l-.947.949" fill="#000000"></path><path d="M44.188 46.092l1.549 1.549l-.95.947l-1.254-1.254c-1.443 3.337-.81 7.357 1.917 10.083s6.746 3.359 10.083 1.916L54.28 58.08l.947-.95l1.549 1.548c.378-.238.74-.51 1.088-.811L44.998 45.003c-.3.348-.57.71-.81 1.089m10.091 10.09l-.949.948l-1.898-1.897l.947-.949l1.9 1.898m-2.847-2.848l-.95.949l-1.897-1.898l.947-.949l1.9 1.898m-2.848-2.848l-.951.949l-1.896-1.897l.947-.95l1.9 1.898" fill="#000000"></path><path d="M50.42 25.346c0-.506-.201-.992-.561-1.35l-2.066-2.068c-.01-.085-.027-.168-.028-.255a2.62 2.62 0 0 1 .769-1.906L62 6.299l-.109-.401a5.337 5.337 0 0 0-1.381-2.403a5.362 5.362 0 0 0-2.4-1.383L57.707 2l-13.47 13.471c-.572.572-1.394.801-2.188.713l-2.041-2.04a1.907 1.907 0 0 0-2.699 0L2.831 48.622c-.754.754-1.379 2.2-.077 4.808c.71 1.42 1.903 3.004 3.36 4.461c.964.963 4.328 4.109 7.145 4.109c1.07 0 1.745-.45 2.123-.828l34.477-34.477c.36-.358.561-.843.561-1.349m-5.17-8.863L57.008 4.725c.489.218.951.516 1.354.918c.402.402.698.864.916 1.353L47.521 18.754a4.021 4.021 0 0 0-1.049 1.833l-.033-.013l-3.011-3.012l-.013-.03a4.023 4.023 0 0 0 1.835-1.049M4.52 49.633l34.138-34.139l4.566 4.564L13.67 49.613c-.681.681-2.181 1.372-3.144 1.302c-1.395-.104-6.006-1.282-6.006-1.282m9.852 9.851s-1.178-4.61-1.281-6.009c-.071-.96.621-2.462 1.301-3.142c7.387-7.391 29.554-29.555 29.554-29.555l4.563 4.566l-34.137 34.14" fill="#000000"></path></svg>
    <span>CRICKET</span>
   </button>
   <button class="nav-item nav-link" data-page="subscription-page" data-title="fancode">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
    <span>FANCODE </span>
   </button>

  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

        const playlistUrl = 'https://raw.githubusercontent.com/Shubhamkur/Tv/refs/heads/main/tvm3u';


        const pages = document.querySelectorAll('.page');
        const headerTitle = document.getElementById('header-title');
        const bannerCarousel = document.getElementById('banner-carousel');
        const homeCategoriesContainer = document.getElementById('home-categories-container');
        const allChannelsContainer = document.getElementById('all-channels-container');
        const searchInput = document.getElementById('search-input');

        function parseM3U(data) {
            if (!data || !data.trim().startsWith('#EXTM3U')) return [];
            const lines = data.trim().split('\n');
            const channels = [];
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].trim().startsWith('#EXTINF:')) {
                    let streamUrl = lines[i + 1] ? lines[i + 1].trim() : '';
                    if (!streamUrl || streamUrl.startsWith('#')) continue;

                    const info = lines[i].trim();
                    const nameMatch = info.match(/tvg-name="([^"]*)"/) || info.match(/,(.*)$/);
                                    const idMatch = info.match(/tvg-id="([^"]*)"/);

                    const logoMatch = info.match(/tvg-logo="([^"]*)"/);
                    const groupMatch = info.match(/group-title="([^"]*)"/);

                    channels.push({
                        name: nameMatch ? nameMatch[1].trim() : 'Unnamed',
                        logo: logoMatch ? logoMatch[1].trim() : 'https://placehold.co/280x160/1F1F1F/ffffff?text=No+Logo',
                        streamUrl: streamUrl,
                                         id: idMatch ? idMatch[1].trim() : 'no', 

                        group: groupMatch ? groupMatch[1].trim() : 'General'
                    });
                    i++;
                }
            }
            return channels;
        }

        function renderChannels(channels, container, isCarousel) {
            const cardHtml = channels.map(channel => {
                const playerUrl = `https://tv4wap.github.io/p2?url=${encodeURIComponent(channel.streamUrl)}`;

                return `
     <a href="${playerUrl}" class="channel-card" style="${isCarousel ? 'flex: 0 0 140px; width: 140px;' : ''}">
                    <img src="${channel.logo}" alt="${channel.name}" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/280x160/1F1F1F/ffffff?text=No+Logo';">
                    <div class="card-title">${channel.name}</div>
                </a>`;
            }).join('');
            container.innerHTML = cardHtml || '<div class="loading-placeholder">No channels found.</div>';
        }

        function renderBanners(sliders) {
            if (!sliders || sliders.length === 0) return;
            bannerCarousel.innerHTML = sliders.map((slide, index) => `
                <div class="banner-slide ${index === 0 ? 'active' : ''}" style="background-image: url('${slide.imageUrl}');">
                    <div class="banner-title-container"><div class="banner-title">${slide.title}</div></div>
                </div>`).join('');
            let currentSlide = 0;
            const slides = bannerCarousel.querySelectorAll('.banner-slide');
            if (slides.length > 1) {
                setInterval(() => {
                    slides[currentSlide].classList.remove('active');
                    currentSlide = (currentSlide + 1) % slides.length;
                    slides[currentSlide].classList.add('active');
                }, 5000);
            }
        }

        async function loadInitialData() {

            try {
                const response = await fetch(playlistUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const m3uText = await response.text();
                const allChannelsData = parseM3U(m3uText);

                if (allChannelsData.length === 0) throw new Error('No channels found.');

                // Logic to preserve playlist order
                const groupedChannels = {};
                const groupOrder = [];




                allChannelsData.forEach(channel => {
                    const group = channel.group || 'General';


                    if (!groupedChannels[group]) {
                        groupedChannels[group] = [];
                        groupOrder.push(group); // Add group to the order array only when it's first seen
                    }
                    groupedChannels[group].push(channel);
                });

                homeCategoriesContainer.innerHTML = ''; 
                allChannelsContainer.innerHTML = '';

                // Render categories based on the original playlist order
                groupOrder.forEach(groupName => {
                    const channels = groupedChannels[groupName];

                    const homeSection = document.createElement('section');
                    homeSection.className = 'category-section';
                    homeSection.innerHTML = `<div class="category-header"><h2>${groupName}</h2></div><div class="card-carousel"></div>`;
                    homeCategoriesContainer.appendChild(homeSection);
                    renderChannels(channels, homeSection.querySelector('.card-carousel'), true);

                    const liveSection = document.createElement('section');
                    liveSection.className = 'category-section';
                    liveSection.innerHTML = `<div  class="category-header"><h2>${groupName}</h2></div><div class="full-grid"></div>`;
                    allChannelsContainer.appendChild(liveSection);
                    renderChannels(channels, liveSection.querySelector('.full-grid'), false);
                });



            } catch (error) {
                console.error('Failed to load channels:', error);
                const errorMessage = `<p class="loading-placeholder">Could not load channels. <br> ${error.message}</p>`;
                homeCategoriesContainer.innerHTML = errorMessage;
                allChannelsContainer.innerHTML = errorMessage;
            }
        }




        function switchPage(pageId, title) {
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId)?.classList.add('active');

            document.querySelectorAll('.nav-item.nav-link').forEach(link => {
                link.classList.toggle('active', link.dataset.page === pageId);
            });
            headerTitle.textContent = title;
            const isSubPage = pageId === 'subscription-page';
            headerTitle.classList.toggle('active', !isSubPage);
            document.querySelector('.search-container').style.display = isSubPage ? 'none' : 'flex';
            document.querySelector('.time-display').style.display = isSubPage ? 'none' : 'block';
             if (isSubPage) {
                document.querySelector('.header').style.gridTemplateColumns = 'auto 1fr auto';
             }
        }
 function filterChannels() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const activePage = document.querySelector('.page.active');
            if (!activePage) return;

            activePage.querySelectorAll('.category-section').forEach(section => {
                let categoryHasVisibleChannel = false;
                section.querySelectorAll('.channel-card').forEach(card => {
                    const title = card.querySelector('.card-title').textContent.toLowerCase();
                    const isMatch = title.includes(searchTerm);
                    card.style.display = isMatch ? '' : 'none';
                    if (isMatch) categoryHasVisibleChannel = true;
                });
                section.style.display = categoryHasVisibleChannel ? '' : 'none';
            });
        }

        document.querySelectorAll('.nav-link').forEach(link => {
            if (link.dataset.page) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchPage(link.dataset.page, link.dataset.title);
                });
            }
        });

        document.querySelector('main.content').addEventListener('click', (e) => {
            const buyButton = e.target.closest('.buy-btn');
            if(buyButton && buyButton.dataset.link) {
                window.location.href = buyButton.dataset.link;
            }
        });



searchInput.addEventListener('input', filterChannels);

        loadInitialData();
        switchPage('home-page', 'Home');
    });
    </script>